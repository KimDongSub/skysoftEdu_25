<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="TestSQL">

    <typeAlias alias="testVO" type="egovframework.dev.test.vo.TestVO"/>

    <!-- typeAlias :: Start! -->
    <resultMap id="TestMap"        class="testVO">
        <result property="seq"     column="SEQ" />
        <result property="title"   column="TITLE" />
        <result property="contents"   column="CONTENTS" />
        <result property="regDtm"   column="REG_DTM" javaType="date" jdbcType="DATE"/>
    </resultMap>
    <!-- typeAlias :: End! -->
    <!-- typeAlias :: Start! -->
    <resultMap id="TestListMap"        class="testVO">
        <result property="seq"     column="SEQ" />
        <result property="title"   column="TITLE" />
        <result property="regDtm"   column="REG_DTM" javaType="date" jdbcType="DATE"/>
    </resultMap>
    <!-- typeAlias :: End! -->

    <!-- C -->
    <insert id="testDAO.insertTest" parameterClass="testVO">
       INSERT INTO
                   TB_SKY_TEST
            VALUES (
                      SEQ_SKY_TEST.NEXTVAL,
                      #title#,
                      #contents#,
                      SYSDATE
                   )
    </insert>

    <!-- R -->
    <select id="testDAO.selectTestPk" parameterClass="testVO" resultMap="TestMap">
        SELECT SEQ,
               TITLE,
               CONTENTS,
               REG_DTM
          FROM TB_SKY_TEST
         WHERE SEQ=#seq#
    </select>

    <!-- U -->
    <update id="testDAO.updateTest" parameterClass="testVO">
        UPDATE TB_SKY_TEST
           SET TITLE=#title#,
               CONTENTS=#contents#,
               REG_DTM=SYSDATE
         WHERE SEQ=#seq#
    </update>

    <!-- D -->
    <delete id="testDAO.deleteTest" parameterClass="testVO">
        DELETE TB_SKY_TEST
         WHERE SEQ=#seq#
    </delete>

    <!-- L -->
    <select id="testDAO.selectTestList" parameterClass="testVO" resultMap="TestListMap">
        SELECT SEQ,
               TITLE,
               REG_DTM
          FROM TB_SKY_TEST
         ORDER BY SEQ DESC
    </select>

</sqlMap>
